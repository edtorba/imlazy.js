/*!
 * Imlazy.js PACKAGED v1.0.0
 * A lightweight vanilla js plugin to lazy load images.
 *
 * Licensed MIT License (MIT)
 *
 * http://edtorba.com
 * Copyright 2016 Eduards Torba
 */
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();!function e(t,n,r){function i(a,o){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!o&&u)return u(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var s="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){var r=e("./lib/_classList"),i=e("./lib/_utils"),s=function(){function e(){_classCallCheck(this,e),this.images=document.querySelectorAll("[data-imlazy]"),this.processImages(),this.processImages=this.processImages.bind(this),this.processImages=i.debounce(this.processImages,20),window.addEventListener("resize",this.processImages,!1),window.addEventListener("scroll",this.processImages,!1)}return _createClass(e,[{key:"processImages",value:function(){for(var e=0,t=this.images.length;t>e;e++){var n=this.images[e];this.isElemInView(n)&&this.loadImage(n)}}},{key:"loadImage",value:function(e){var t=e.getAttribute("data-imlazy"),n=window.innerWidth,i=null,s=this.parseJson(t);if(void 0!==s){for(var a in s){var o=parseInt(a,10);n>=o&&(i=a)}this.isImage(e)?e.setAttribute("src",s[i]):e.style.backgroundImage="url("+s[i]+")",r.add(e,"is-loaded")}}},{key:"isElemInView",value:function(e){var t=e.getBoundingClientRect().top,n=e.getBoundingClientRect().bottom;return t<window.innerHeight&&n>=0}},{key:"isImage",value:function(e){return e instanceof HTMLImageElement}},{key:"parseJson",value:function(e){try{return JSON.parse(e)}catch(t){console.error("parseJson error: %s",t)}}}]),e}();window.Imlazy=s},{"./lib/_classList":2,"./lib/_utils":3}],2:[function(e,t,n){t.exports={add:function(e,t){e.classList?e.classList.add(t):e.className+=" "+t}}},{}],3:[function(e,t,n){t.exports={debounce:function(e,t,n){var r;return function(){var i=this,s=arguments,a=n&&!r;clearTimeout(r),r=setTimeout(function(){r=null,n||e.apply(i,s)},t),a&&e.apply(i,s)}}}},{}]},{},[1]);