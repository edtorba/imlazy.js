{"version":3,"sources":["webpack:///webpack/bootstrap cd7029865307368b5259","webpack:///./index.js","webpack:///./shim/object.assign.js"],"names":["GUID","instances","Imlazy","config","Object","assign","offset","document","documentElement","clientHeight","retina","events","guid","onChange","debounce","addEventListeners","run","windowWidth","clientWidth","imageList","querySelectorAll","forEach","image","imlazyGUID","isElementVisible","load","window","addEventListener","body","jsonString","getAttribute","data","JSON","parse","e","console","error","nearestBreakpoint","value","breakpoint","parseInt","imageURL","DPR","getDevicePixelRation","isHighDensity","setRetinaSuffix","HTMLImageElement","setAttribute","onload","evt","classList","add","dispatchEvent","onerror","style","backgroundImage","slice","replace","fakeImage","Image","string","substring","lastIndexOf","matchMedia","mq","matches","devicePixelRatio","element","top","getBoundingClientRect","bottom","type","listener","hasOwnProperty","push","index","indexOf","splice","args","length","i","t","apply","func","wait","immediate","timeout","callNow","clearTimeout","setTimeout","id","target","source","key","src","arguments","prototype","call"],"mappings":"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","file":"imlazy.pkgd.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/bin/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap cd7029865307368b5259","import './shim/object.assign';\r\n\r\n// Globally unique identifiers.\r\nlet GUID = 0;\r\n\r\n// List of imlazy instances.\r\nlet instances = {};\r\n\r\nclass Imlazy {\r\n  constructor(config) {\r\n    this.config = Object.assign({\r\n      offset: document.documentElement.clientHeight,\r\n      retina: false\r\n    }, config);\r\n\r\n    // Initial properties.\r\n    this.events = {};\r\n\r\n    // Create GUID and push it to instances object.\r\n    this.guid = GUID++;\r\n    instances[this.guid] = this;\r\n\r\n    // Limit the rate at which a function can fire.\r\n    this.onChange = this.debounce(this.onChange, 250);\r\n\r\n    this.addEventListeners();\r\n\r\n    this.run();\r\n  }\r\n\r\n  run() {\r\n    this.windowWidth = document.documentElement.clientWidth;\r\n    this.imageList = document.querySelectorAll('[data-imlazy]');\r\n\r\n    this.imageList.forEach(image => {\r\n      // Add GUID to imlazy images.\r\n      image.imlazyGUID = this.guid;\r\n\r\n      if (this.isElementVisible(image)) this.load(image);\r\n    });\r\n  }\r\n\r\n  addEventListeners() {\r\n    window.addEventListener('resize', this.onChange);\r\n    window.addEventListener('scroll', this.onChange);\r\n    document.body.addEventListener('scroll', this.onChange);\r\n  }\r\n\r\n  onChange() {\r\n    this.windowWidth = document.documentElement.clientWidth;\r\n\r\n    this.imageList.forEach(image => {\r\n      if (this.isElementVisible(image)) this.load(image);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Load image on supplied element.\r\n   *\r\n   * @param {HTMLElement} image [HTML element.]\r\n   */\r\n  load(image) {\r\n    let jsonString = image.getAttribute('data-imlazy'),\r\n    data;\r\n\r\n    try {\r\n      data = JSON.parse(jsonString);\r\n    } catch(e) {\r\n      console.error('[imlazy] JSON.parse: %s', e);\r\n      return; // run forest, run!\r\n    }\r\n\r\n    // Find nearest breakpoint.\r\n    let nearestBreakpoint;\r\n\r\n    for (let value in data) {\r\n      let breakpoint = parseInt(value, 10);\r\n      if (breakpoint <= this.windowWidth) nearestBreakpoint = breakpoint;\r\n    }\r\n\r\n    let imageURL = data[nearestBreakpoint];\r\n\r\n    if (this.config.retina) {\r\n      const DPR = this.getDevicePixelRation();\r\n      if (this.isHighDensity()) {\r\n\r\n        if (this.config.retina === 3) {\r\n          if (DPR >= 3) {\r\n            imageURL = this.setRetinaSuffix(imageURL, 3);\r\n          } else {\r\n            imageURL = this.setRetinaSuffix(imageURL, 2);\r\n          }\r\n        } else {\r\n          imageURL = this.setRetinaSuffix(imageURL, 2);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (image instanceof HTMLImageElement) {\r\n      // Image.\r\n\r\n      // Ensure that we have not loaded same image previously.\r\n      if (image.getAttribute('src') === imageURL) return;\r\n      image.setAttribute('src', imageURL);\r\n\r\n      image.onload = (evt) => {\r\n        image.classList.add('is-loaded');\r\n        this.dispatchEvent('lazyload', [ evt, image ]);\r\n      };\r\n\r\n      image.onerror = (evt) => {\r\n        console.error('[imlazy] A resource failed to load: %s', imageURL);\r\n        this.dispatchEvent('lazyload', [ evt, image ]);\r\n      };\r\n    } else {\r\n      // Other HTML element.\r\n\r\n      // Ensure that we have not loaded same image previously.\r\n      if (image.style.backgroundImage.slice(4, -1).replace(/\"/g, \"\") === imageURL) return;\r\n\r\n      // Create fake image to use its `load` and `error` events.\r\n      const fakeImage = new Image();\r\n      fakeImage.setAttribute('src', imageURL);\r\n\r\n      // Place image on HTML element at the same time.\r\n      image.style.backgroundImage = 'url('+ imageURL +')';\r\n\r\n      fakeImage.onload = (evt) => {\r\n        image.classList.add('is-loaded');\r\n        this.dispatchEvent('lazyload', [ evt, image ]);\r\n      };\r\n\r\n      fakeImage.onerror = (evt) => {\r\n        console.error('[imlazy] A resource failed to load: %s', imageURL);\r\n        this.dispatchEvent('lazyload', [ evt, image ]);\r\n      };\r\n    }\r\n  }\r\n\r\n  setRetinaSuffix(string, value) {\r\n    return string.substring(0, string.lastIndexOf(\".\")) + '@' + value + 'x' + string.substring(string.lastIndexOf(\".\"));\r\n  }\r\n\r\n  /**\r\n   * Detect high density screens.\r\n   * @source http://stackoverflow.com/a/19690464\r\n   */\r\n  isHighDensity() {\r\n    if (window.matchMedia) {\r\n      var mq = window.matchMedia(\"only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)\");\r\n      return (mq && mq.matches || (window.devicePixelRatio > 1));\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Check whether element is in view.\r\n   * @param  {HTMLElement}  element [DOM node.]\r\n   * @return {Boolean} [Test results.]\r\n   */\r\n  isElementVisible(element) {\r\n    const top = element.getBoundingClientRect().top,\r\n    bottom = element.getBoundingClientRect().bottom;\r\n\r\n    if (this.config.offset) {\r\n      return bottom > 0 - this.config.offset && top < (document.documentElement.clientHeight + this.config.offset);\r\n    } else {\r\n      return bottom > 0 && top < document.documentElement.clientHeight;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return device pixel ratio.\r\n   * @return {decimal} [DPR.]\r\n   */\r\n  getDevicePixelRation() {\r\n    // Shim; Chances of a device that runs IE < 11 having a DPR of more than\r\n    //  1 are low enough that this is likely to offer the best reliability.\r\n    if (!window.devicePixelRatio) {\r\n      window.devicePixelRatio = 1;\r\n    }\r\n\r\n    return window.devicePixelRatio;\r\n  }\r\n\r\n  /**\r\n   * Bind event listener.\r\n   *\r\n   * @param  {string} name [String representing the event type to listen for.]\r\n   * @param  {function} listener [The object that receives a notification.]\r\n   */\r\n  on(type, listener) {\r\n    if (this.events.hasOwnProperty(type)) {\r\n      this.events[type].push(listener);\r\n    } else {\r\n      this.events[type] = [listener];\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Unbind event listener.\r\n   *\r\n   * @param  {string} name [String representing the event type to listen for.]\r\n   * @param  {function} listener [The object that receives a notification.]\r\n   */\r\n  off(type, listener) {\r\n    if (!this.events.hasOwnProperty(type)) return;\r\n\r\n    let index = this.events[type].indexOf(listener);\r\n    if (index !== -1) this.events[type].splice(index, 1);\r\n  }\r\n\r\n  /**\r\n   * Dispatch the event.\r\n   *\r\n   * @param  {string} name [String representing the event type to listen for.]\r\n   * @param  {array} args [Adding custom data to be retured to listener.]\r\n   */\r\n  dispatchEvent(type, args) {\r\n    if (!this.events.hasOwnProperty(type)) return;\r\n\r\n    if (!args || !args.length) args = [];\r\n\r\n    let events = this.events[type];\r\n    for (let i = 0, t = events.length; i < t; i++) {\r\n      events[i].apply(null, args);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Creates a debounced function that delays invoking func until after wait\r\n   *  milliseconds have elapsed since the last time the debounced function was\r\n   *  invoked.\r\n   *\r\n   * @param  {function} func [Function to debounce.]\r\n   * @param  {integer} wait [To to wait.]\r\n   * @param  {boolean} immediate [Immediately invode function.]\r\n   * @return {function} [Debounced function.]\r\n   */\r\n  debounce(func, wait, immediate) {\r\n    let timeout;\r\n\r\n    return () => {\r\n      let args = arguments,\r\n      callNow = immediate && !timeout;\r\n\r\n      clearTimeout(timeout);\r\n\r\n      timeout = setTimeout(() => {\r\n        timeout = null;\r\n\r\n        if (!immediate) func.apply(this, args);\r\n      }, wait);\r\n\r\n      if (callNow) func.apply(this, args);\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Get imlazy instance via it's element.\r\n *\r\n * @param {HTMLElement} element [HTML element.]\r\n * @return {Imlazy} [Imlazy instance.]\r\n */\r\nImlazy.data = function(element) {\r\n  // Make sure it's not empty.\r\n  if (element !== null) {\r\n    let id = element.imlazyGUID;\r\n    return instances[id];\r\n  } else {\r\n    console.error('[imlazy] could not get Imlazy instance from %s', element);\r\n  }\r\n};\r\n\r\n// Replace/Create the global namespace\r\nwindow.Imlazy = Imlazy;\r\n\r\nexport default Imlazy;\r\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","/**\r\n * Polyfill for `object.assign`.\r\n *\r\n * @link https://polyfill.io/v2/docs/features/#Object_assign\r\n */\r\nif (!('assign' in Object)) {\r\n  Object.assign = function assign(target, source) { // eslint-disable-line no-unused-vars\r\n    for (var index = 1, key, src; index < arguments.length; ++index) {\r\n      src = arguments[index];\r\n\r\n      for (key in src) {\r\n        if (Object.prototype.hasOwnProperty.call(src, key)) {\r\n          target[key] = src[key];\r\n        }\r\n      }\r\n    }\r\n\r\n    return target;\r\n  };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./shim/object.assign.js"],"sourceRoot":""}