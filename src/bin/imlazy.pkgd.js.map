{"version":3,"sources":["webpack:///webpack/bootstrap 9246f0ab0709cc6f9142","webpack:///./index.js","webpack:///./shim/object.assign.js"],"names":["GUID","instances","Imlazy","config","Object","assign","offset","document","documentElement","clientHeight","retina","events","guid","onChange","debounce","addEventListeners","fetch","windowWidth","clientWidth","windowHeight","imageList","querySelectorAll","forEach","call","image","imlazyGUID","isElementVisible","load","window","addEventListener","body","target","jsonString","getAttribute","data","JSON","parse","e","console","error","nearestBreakpoint","value","breakpoint","parseInt","imageURL","isHighDensity","DPR","getDevicePixelRation","Math","round","setRetinaSuffix","HTMLImageElement","setAttribute","onload","evt","classList","add","dispatchEvent","onerror","style","backgroundImage","slice","replace","Image","string","substring","lastIndexOf","matchMedia","mq","matches","devicePixelRatio","element","top","getBoundingClientRect","bottom","type","listener","hasOwnProperty","push","index","indexOf","splice","args","length","i","t","apply","func","wait","immediate","timeout","callNow","clearTimeout","setTimeout","id","source","key","src","arguments","prototype"],"mappings":"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","file":"imlazy.pkgd.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/bin/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9246f0ab0709cc6f9142","import './shim/object.assign';\r\n\r\n// Globally unique identifiers.\r\nlet GUID = 0;\r\n\r\n// List of imlazy instances.\r\nlet instances = {};\r\n\r\nclass Imlazy {\r\n  constructor(config) {\r\n    this.config = Object.assign({\r\n      offset: document.documentElement.clientHeight,\r\n      retina: false\r\n    }, config);\r\n\r\n    // Initial properties.\r\n    this.events = {};\r\n\r\n    // Create GUID and push it to instances object.\r\n    this.guid = GUID++;\r\n    instances[this.guid] = this;\r\n\r\n    // Limit the rate at which a function can fire.\r\n    this.onChange = this.debounce(this.onChange, 100);\r\n\r\n    // Register listeners.\r\n    this.addEventListeners();\r\n\r\n    // Fetch imlazy DOM nodes.\r\n    this.fetch();\r\n  }\r\n\r\n  /**\r\n   * Get imlazy DOM nodes, and lazyload images.\r\n   * @return {void}\r\n   */\r\n  fetch() {\r\n    this.windowWidth = document.documentElement.clientWidth;\r\n    this.windowHeight = document.documentElement.clientHeight;\r\n    this.imageList = document.querySelectorAll('[data-imlazy]');\r\n\r\n    // As NodeList.forEach is not supported in IE, we'll use\r\n    //  Array.prototype.forEach instead.\r\n    [].forEach.call(this.imageList, image => {\r\n      // Add GUID to imlazy images.\r\n      image.imlazyGUID = this.guid;\r\n\r\n      if (this.isElementVisible(image)) this.load(image);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Register event listeners.\r\n   * @return {void}\r\n   */\r\n  addEventListeners() {\r\n    window.addEventListener('resize', this.onChange);\r\n    window.addEventListener('scroll', this.onChange);\r\n    document.body.addEventListener('scroll', this.onChange);\r\n  }\r\n\r\n  /**\r\n   * On change event listener, checks if images are in view and loads them if\r\n   *  needed.\r\n   * @return {void}\r\n   */\r\n  onChange() {\r\n    this.windowWidth = document.documentElement.clientWidth;\n    this.windowHeight = document.documentElement.clientHeight;\n\r\n    [].forEach.call(this.imageList, image => {\r\n      if (this.isElementVisible(image)) this.load(image);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Load image on supplied element.\r\n   *\r\n   * @param {HTMLElement} target [HTML element.]\r\n   * @return {void}\r\n   */\r\n  load(target) {\r\n    let jsonString = target.getAttribute('data-imlazy'),\r\n    data;\r\n\r\n    try {\r\n      data = JSON.parse(jsonString);\r\n    } catch(e) {\r\n      console.error('[imlazy] JSON.parse: %s', e);\r\n      return; // run forest, run!\r\n    }\r\n\r\n    // Find nearest breakpoint.\r\n    let nearestBreakpoint;\r\n\r\n    for (let value in data) {\r\n      let breakpoint = parseInt(value, 10);\r\n      if (breakpoint <= this.windowWidth) nearestBreakpoint = breakpoint;\r\n    }\r\n\r\n    let imageURL = data[nearestBreakpoint];\r\n\r\n    if (this.config.retina) {\r\n      if (this.isHighDensity()) {\r\n        let DPR = this.getDevicePixelRation();\r\n        DPR = Math.round(DPR);\r\n\r\n        if (DPR !== 1) {\r\n          if (DPR > this.config.retina && typeof this.config.retina !== 'boolean') {\r\n            imageURL = this.setRetinaSuffix(imageURL, this.config.retina);\r\n          } else {\r\n            imageURL = this.setRetinaSuffix(imageURL, DPR);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if (target instanceof HTMLImageElement) {\r\n      // Image.\r\n\r\n      // Ensure that we have not loaded same image previously.\r\n      if (target.getAttribute('src') === imageURL) return;\r\n      target.setAttribute('src', imageURL);\r\n\r\n      target.onload = (evt) => {\r\n        target.classList.add('is-loaded');\r\n        this.dispatchEvent('loaded', [ evt, target ]);\r\n      };\r\n\r\n      target.onerror = (evt) => {\r\n        console.error('[imlazy] A resource failed to load: %s', imageURL);\r\n        this.dispatchEvent('loaded', [ evt, target ]);\r\n      };\r\n    } else {\r\n      // Other HTML element.\r\n\r\n      // Ensure that we have not loaded same image previously.\r\n      if (target.style.backgroundImage.slice(4, -1).replace(/\"/g, \"\") === imageURL) return;\r\n\r\n      // Create fake image to use its `load` and `error` events.\r\n      const image = new Image();\r\n      image.setAttribute('src', imageURL);\r\n\r\n      // Place image on HTML element at the same time.\r\n      target.style.backgroundImage = 'url('+ imageURL +')';\r\n\r\n      image.onload = (evt) => {\r\n        target.classList.add('is-loaded');\r\n        this.dispatchEvent('loaded', [ null, target ]);\r\n      };\r\n\r\n      image.onerror = (evt) => {\r\n        console.error('[imlazy] A resource failed to load: %s', imageURL);\r\n        this.dispatchEvent('loaded', [ null, target ]);\r\n      };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Add suffix to image url string.\r\n   * @param {string} string [Image url.]\r\n   * @param {string} value  [Suffix to add.]\r\n   * @return {string} [String with suffix.]\r\n   */\r\n  setRetinaSuffix(string, value) {\r\n    return string.substring(0, string.lastIndexOf(\".\")) + '@' + value + 'x' + string.substring(string.lastIndexOf(\".\"));\r\n  }\r\n\r\n  /**\r\n   * Detect high density screens.\r\n   * @source http://stackoverflow.com/a/19690464\r\n   * @return {void}\r\n   */\r\n  isHighDensity() {\r\n    if (window.matchMedia) {\r\n      var mq = window.matchMedia(\"only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)\");\r\n      return (mq && mq.matches || (window.devicePixelRatio > 1));\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Check whether element is in view.\r\n   * @param  {HTMLElement}  element [DOM node.]\r\n   * @return {Boolean} [Test results.]\r\n   */\r\n  isElementVisible(element) {\r\n    const top = element.getBoundingClientRect().top,\r\n    bottom = element.getBoundingClientRect().bottom;\r\n\r\n    if (this.config.offset) {\r\n      return bottom > (0 - this.config.offset - this.windowHeight) && top < (this.windowHeight + this.config.offset);\r\n    } else {\r\n      return bottom > 0 && top < this.windowHeight;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return device pixel ratio.\r\n   * @return {decimal} [DPR.]\r\n   */\r\n  getDevicePixelRation() {\r\n    // Shim; Chances of a device that runs IE < 11 having a DPR of more than\r\n    //  1 are low enough that this is likely to offer the best reliability.\r\n    if (!window.devicePixelRatio) {\r\n      window.devicePixelRatio = 1;\r\n    }\r\n\r\n    return window.devicePixelRatio;\r\n  }\r\n\r\n  /**\r\n   * Bind event listener.\r\n   *\r\n   * @param  {string} name [String representing the event type to listen for.]\r\n   * @param  {function} listener [The object that receives a notification.]\r\n   * @return {void}\r\n   */\r\n  on(type, listener) {\r\n    if (this.events.hasOwnProperty(type)) {\r\n      this.events[type].push(listener);\r\n    } else {\r\n      this.events[type] = [listener];\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Unbind event listener.\r\n   *\r\n   * @param  {string} name [String representing the event type to listen for.]\r\n   * @param  {function} listener [The object that receives a notification.]\r\n   * @return {void}\r\n   */\r\n  off(type, listener) {\r\n    if (!this.events.hasOwnProperty(type)) return;\r\n\r\n    let index = this.events[type].indexOf(listener);\r\n    if (index !== -1) this.events[type].splice(index, 1);\r\n  }\r\n\r\n  /**\r\n   * Dispatch the event.\r\n   *\r\n   * @param  {string} name [String representing the event type to listen for.]\r\n   * @param  {array} args [Adding custom data to be retured to listener.]\r\n   * @return {void}\r\n   */\r\n  dispatchEvent(type, args) {\r\n    if (!this.events.hasOwnProperty(type)) return;\r\n\r\n    if (!args || !args.length) args = [];\r\n\r\n    let events = this.events[type];\r\n    for (let i = 0, t = events.length; i < t; i++) {\r\n      events[i].apply(null, args);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Creates a debounced function that delays invoking func until after wait\r\n   *  milliseconds have elapsed since the last time the debounced function was\r\n   *  invoked.\r\n   *\r\n   * @param  {function} func [Function to debounce.]\r\n   * @param  {integer} wait [To to wait.]\r\n   * @param  {boolean} immediate [Immediately invode function.]\r\n   * @return {function} [Debounced function.]\r\n   */\r\n  debounce(func, wait, immediate) {\r\n    let timeout;\r\n\r\n    return () => {\r\n      let args = arguments,\r\n      callNow = immediate && !timeout;\r\n\r\n      clearTimeout(timeout);\r\n\r\n      timeout = setTimeout(() => {\r\n        timeout = null;\r\n\r\n        if (!immediate) func.apply(this, args);\r\n      }, wait);\r\n\r\n      if (callNow) func.apply(this, args);\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Get imlazy instance via it's element.\r\n *\r\n * @param {HTMLElement} element [HTML element.]\r\n * @return {Imlazy} [Imlazy instance.]\r\n */\r\nImlazy.data = function(element) {\r\n  // Make sure it's not empty.\r\n  if (element !== null) {\r\n    let id = element.imlazyGUID;\r\n    return instances[id];\r\n  } else {\r\n    console.error('[imlazy] could not get Imlazy instance from %s', element);\r\n  }\r\n};\r\n\r\n// Replace/Create the global namespace\r\nwindow.Imlazy = Imlazy;\r\n\r\nexport default Imlazy;\r\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","/**\r\n * Polyfill for `object.assign`.\r\n *\r\n * @link https://polyfill.io/v2/docs/features/#Object_assign\r\n */\r\nif (!('assign' in Object)) {\r\n  Object.assign = function assign(target, source) { // eslint-disable-line no-unused-vars\r\n    for (var index = 1, key, src; index < arguments.length; ++index) {\r\n      src = arguments[index];\r\n\r\n      for (key in src) {\r\n        if (Object.prototype.hasOwnProperty.call(src, key)) {\r\n          target[key] = src[key];\r\n        }\r\n      }\r\n    }\r\n\r\n    return target;\r\n  };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./shim/object.assign.js"],"sourceRoot":""}